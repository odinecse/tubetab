<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <input id="input" type="text" name="input" value="Type here">
  <button id="add">Add</button>
  <iframe id="player" width="560" height="315" src="" frameborder="0"></iframe>
  <script>
  io = io.connect();

  // player.getCurrentTime():Number
  // Returns the elapsed time in seconds since the video started playing.
  // if time = previous time, then ignore!
  // player.getPlayerState():Number
  // Returns the state of the player. Possible values are:
  // -1 – unstarted
  // 0 – ended
  // 1 – playing
  // 2 – paused
  // 3 – buffering
  // 5 – video cued
  // player.mute()
  // player.unMute()
  // player.isMuted()

  io.emit('ready');

  // Listen for the talk event.
  io.on('talk', function(data) {
    console.log(data.message);
  });

  document.getElementById('add').onclick = function(e){
    //seconds
    //?start=22&autoplay=1&controls=0&disablekb=1&enablejsapi=1&fs=0&modestbranding=0&rel=0&showinfo=0
    var url = document.getElementById('input').value;
    document.getElementById('player').src = url;
  }

  // var tag = document.createElement('script');

  // tag.src = "https://www.youtube.com/iframe_api";
  // var firstScriptTag = document.getElementsByTagName('script')[0];
  // firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  // // 3. This function creates an <iframe> (and YouTube player)
  // //    after the API code downloads.
  // var player;
  // function onYouTubeIframeAPIReady() {
  //   player = new YT.Player('player', {
  //     height: '390',
  //     width: '640',
  //     videoId: 'M7lc1UVf-VE',
  //     events: {
  //       'onReady': onPlayerReady,
  //       'onStateChange': onPlayerStateChange
  //     }
  //   });
  // }

  // // 4. The API will call this function when the video player is ready.
  // function onPlayerReady(event) {
  //   event.target.playVideo();
  // }
  // var done = false;
  // function onPlayerStateChange(event) {
  //   if (event.data == YT.PlayerState.PLAYING && !done) {
  //     setTimeout(stopVideo, 6000);
  //     done = true;
  //   }
  // }
  // function stopVideo() {
  //   player.stopVideo();
  // }

  </script>
</body>
</html>